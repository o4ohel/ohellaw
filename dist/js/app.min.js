"use strict";angular.module("app",["ngRoute","mm.foundation"]).config(function($routeProvider){$routeProvider.when("/home",{templateUrl:"views/home.html",controller:"HomeController"}).when("/areas",{templateUrl:"views/areas.html",controller:"AreasController"}).when("/profile",{templateUrl:"views/profile.html"}).when("/testimonials",{templateUrl:"views/testimonials.html",controller:"TestimonialsController"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactController"}).when("/estateplan",{templateUrl:"views/estateplan.html",controller:"EstateplanController"}).when("/disclaimer",{templateUrl:"views/disclaimer.html"}).otherwise({redirectTo:"/home"})}).controller("MainController",["$scope","$route","$routeParams","$location",function($scope,$route,$routeParams,$location){$scope.$route=$route,$scope.$location=$location,$scope.$routeParams=$routeParams,$scope.randomizeList=function(list){var i=list.length;if(0===i)return!1;for(;--i;){var j=Math.floor(Math.random()*(i+1)),tempi=list[i],tempj=list[j];list[i]=tempj,list[j]=tempi}return list}}]).controller("HomeController",["$scope","$http",function($scope,$http){$http.get("data/testimonials.json").success(function(data){$scope.testimonials=data.items})}]).controller("AreasController",["$scope",function($scope){$scope.foo="bar"}]).controller("TestimonialsController",["$scope","$http",function($scope,$http){$http.get("data/testimonials.json").success(function(data){$scope.testimonials=$scope.randomizeList(data.items)})}]).controller("ContactController",["$scope",function($scope){$scope.foo="bar"}]),angular.module("app").directive("olSideNav",function(){return{restrict:"E",replace:!0,scope:{active:"@"},controller:function($scope){$scope.links=[{url:"home",label:"Home"},{url:"areas",label:"Areas Of Practice"},{url:"profile",label:"Attorney Profile"},{url:"testimonials",label:"Testimonials"},{url:"contact",label:"Contact Us"}]},template:'\n<ul class="side-nav"> \n<li ng-class="{active: active == link.url}" ng-repeat="link in links"><a href="#{{link.url}}">{{link.label}}</a></li> \n</ul> \n\n'}}),angular.module("app").directive("googleplace",function(){return{require:"ngModel",scope:{ngModel:"=",details:"=?"},link:function(scope,element,attrs,model){var options={types:[],componentRestrictions:{}};scope.gPlace=new google.maps.places.Autocomplete(element[0],options),google.maps.event.addListener(scope.gPlace,"place_changed",function(){scope.$apply(function(){scope.details=scope.gPlace.getPlace(),model.$setViewValue(element.val())})})}}}),angular.module("app").controller("EstateplanController",["$scope","$http","$modal","$log",function($scope,$http,$modal,$log){$scope.plan={client:{isOwner:!1},spouse:{},beneficiaries:[],trustee:{},distribution:{age1:18,age2:18,age3:18}},$scope.relationships=["Son","Daughter","Wife","Husband","other"],$scope.addBeneficiary=function(){$scope.plan.beneficiaries.push({})},$scope.addBeneficiary(),$scope.removeBeneficiary=function(){var beneficiary=this.beneficiary;return $scope.plan.beneficiaries.length<2?void($scope.plan.beneficiaries=[{}]):void $scope.plan.beneficiaries.splice($scope.plan.beneficiaries.indexOf(beneficiary),1)},$scope.makeSameAddress=function(){var isSame=$scope.plan.spouse.sameAddr;$scope.plan.spouse.address=isSame?angular.copy($scope.plan.client.address):""},$scope.save=function(){$http.post("scripts/estateplan.php",$scope.plan).success(function(data){console.log("data from estateplan.php : %o",data)})},$scope.preview=function(){var modalInstance=$modal.open({templateUrl:"views/estateplan.preview.html",controller:"EstateplanPreviewController"});modalInstance.result.then(function(){$log.info("need to save now.")},function(){$log.info("Modal dismissed at: "+new Date)})}}]).controller("EstateplanPreviewController",["$scope","$modalInstance",function($scope,$modalInstance){$scope.save=function(){$modalInstance.close(!0)},$scope.cancel=function(){$modalInstance.dismiss("cancel")}}]);